<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>IBM Data Merge Utility - Regression Testing</title>
</head>

<body>    
<div class="container">    

	<h1><a id="top">IBM Data Merge Utility Version 3.1.4 - Testing Suite</a></h1>
		 
	    <ul class="nav nav-pills nav-stacked">
	    </ul>
	                        
	<h3><a id="Overview">Testing Overview</a></h3>
		<p>Testing overview bla bla bla</p>

	<h3><a id="System">System Testing</a></h3>
		<table class="executable" name="System">
			<tr>
				<th class="description">Description</th>
				<th class="prepare">Prepare Step</th>
				<th class="execute">Execute Step</th>
				<th class="validate">Validation Step</th>
			</tr>
			<tr class="execute,PEND">
				<td class="description">Use the templatePackage rest api to load the test_System template package</td>
				<td class="prepare"></td>
				<td class="execute">curl -X POST {host}/idmu/templatePackage/test_System > loadPackage</td>
				<td class="validate">fileContains(post,"LOADED")</td>
			</tr>
			<tr class="execute,PEND">
				<td class="description">Merge the test template and get the archive name</td>
				<td class="prepare"></td>
				<td class="execute">curl {host}/idmu/merge/test_System?DragonFlyOutputFile=test.tar > archive</td>
				<td class="validate">fileContains(archive,"archive=test.tar")</td>
			</tr>
			<tr class="execute,PEND">
				<td class="description">use the templatePackage rest service to remove our templates</td>
				<td class="prepare"></td>
				<td class="execute">curl -X DELETE {host}/idmu/templatePackage/test.tar > removeTemplates</td>
				<td class="validate">fileContains(removeTemplates,"DELETED")</td>
			</tr>
			<tr class="execute,PEND">
				<td class="description">fetch the archive from the server</td>
				<td class="prepare"></td>
				<td class="execute">wget {host}/{archive}</td>
				<td class="validate"></td>
			</tr>
			<tr class="execute,PEND">
				<td class="description">delete the archive from the server</td>
				<td class="prepare"></td>
				<td class="execute">curl -X DELETE {host}/idmu/archive/test.tar > removeArchive</td>
				<td class="validate">flieContains(removeArchive,"REMOVED")</td>
			</tr>
			<tr class="execute,PEND">
				<td class="description">Make a temp directory and extract the "gold" image of expected output</td>
				<td class="prepare">mkdir ./tmp/gold</td>
				<td class="execute">cd ./tmp/gold; tar -xvf {gold}/gold_System.tar</td>
				<td class="validate"></td>
			</tr>
			<tr class="execute,PEND">
				<td class="description">Make a temp directory and extract the downloaded archive</td>
				<td class="prepare">mkdir .tmp/test</td>
				<td class="execute">cd ./tmp/test; tar -xvf {output}/{archive}</td>
				<td class="validate"></td>
			</tr>
			<tr class="execute,PEND">
				<td class="description">Compare archive to expected output</td>
				<td class="prepare"></td>
				<td class="execute">diff -r -q ./tmp/gold ./tmp/test</td>
				<td class="validate"></td>
			</tr>
			<tr class="execute,PEND">
				<td class="description">Housekeeping</td>
				<td class="prepare"></td>
				<td class="execute">rm -rf ./tmp</td>
				<td class="validate"></td>
			</tr>
		</table> 
    
</div><!--end of container-->

</body>
</html>
